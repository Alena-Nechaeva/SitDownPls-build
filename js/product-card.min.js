(()=>{"use strict";function e(e){e.forEach((e=>{const t=[...e.querySelectorAll("a"),...e.querySelectorAll("button")];e.classList.contains("slide-visible")?(e.removeAttribute("tabindex"),t.forEach((e=>{e.removeAttribute("tabindex")}))):(e.tabIndex="-1",t.forEach((e=>{e.tabIndex="-1"})))}))}const t=()=>{new Swiper(".similar__swiper",{slidesPerGroup:2,slidesPerView:2,spaceBetween:16,navigation:{nextEl:".similar__next",prevEl:".similar__prev"},breakpoints:{660:{slidesPerView:2,spaceBetween:32},993:{slidesPerView:3,spaceBetween:32},1300:{slidesPerView:4,slidesPerGroup:4,spaceBetween:32}},a11y:!1,keyboard:{enabled:!0,onlyInViewport:!0},watchSlidesVisibility:!0,watchSlidesProgress:!0,slideVisibleClass:"slide-visible",on:{init(){e(this.slides)},slideChange(){e(this.slides)}}});const t=new Swiper(".product__swiper-sm",{loop:!1,spaceBetween:18,slidesPerView:2.4,direction:"horizontal",freeMode:!0,watchSlidesProgress:!0,breakpoints:{710:{direction:"vertical",slidesPerView:4,spaceBetween:18},992:{direction:"horizontal",slidesPerView:3.5,spaceBetween:38},1300:{direction:"horizontal",slidesPerView:4,spaceBetween:38}}}),s=(new Swiper(".product__swiper-large",{loop:!1,spaceBetween:10,thumbs:{swiper:t},a11y:!1,keyboard:{enabled:!0,onlyInViewport:!0}}),new Swiper(".swiper-modal__sm",{loop:!1,spaceBetween:10,navigation:{nextEl:".swiper-modal__next",prevEl:".swiper-modal__prev"},breakpoints:{710:{slidesPerView:2,spaceBetween:78},992:{slidesPerView:3,spaceBetween:78},1300:{slidesPerView:4,spaceBetween:78}},a11y:!1,keyboard:{enabled:!0,onlyInViewport:!0},watchSlidesVisibility:!0,watchSlidesProgress:!0,slideVisibleClass:"slide-visible",on:{init(){e(this.slides)},slideChange(){e(this.slides)}}}));new Swiper(".swiper-modal__large",{loop:!1,spaceBetween:10,thumbs:{swiper:s},a11y:!1,keyboard:{enabled:!0,onlyInViewport:!0}})},s=(e,t)=>{let s=e.value,a=e.closest("label");return e.addEventListener("input",(()=>{a.classList.remove("invalid","valid")})),"name"===e.id?/^[а-яА-ЯёЁ\s]+$/.test(s)?(a.classList.add("valid"),a.classList.remove("invalid"),!0):(a.classList.remove("valid"),a.classList.add("invalid"),!1):"mail"===e.id?/(\W|^)[\w.\-]{0,40}@(yahoo|hotmail|gmail|bk|mail|yandex|outlook)\.com|.ru(\W|$)/.test(s)?(a.classList.add("valid"),a.classList.remove("invalid"),!0):(a.classList.remove("valid"),a.classList.add("invalid"),!1):"phone"===e.id?10===t.length?(a.classList.add("valid"),a.classList.remove("invalid"),!0):(a.classList.remove("valid"),a.classList.add("invalid"),!1):void 0};window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".product__swiper-btn"),a=document.querySelector(".swiper-modal__close"),i=document.querySelector(".product__buy");var d,l;d=function(e){!0===e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(l=new Image).onload=l.onerror=function(){d(2==l.height)},l.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",t(),e.forEach((e=>{e.addEventListener("click",(()=>{document.querySelector(".swiper-for-modal").style.display="block"}))})),a.addEventListener("click",(()=>{document.querySelector(".swiper-for-modal").style.display="none"})),i.addEventListener("click",(()=>{document.body.append((()=>{const e=document.createElement("div"),t=document.createElement("div"),a=document.createElement("button"),i=document.createElement("h2"),d=document.createElement("p"),l=document.createElement("form"),n=document.createElement("label"),o=document.createElement("input"),c=document.createElement("label"),r=document.createElement("input"),m=document.createElement("button"),p=document.createElement("label"),u=document.createElement("input"),v=document.createElement("span"),w=document.createElement("span");return new Inputmask("+7 (999) 999 - 99 - 99").mask(r),e.classList.add("modal","site-modal","modal-animation"),t.classList.add("modal__content","site-modal__content","site-modal__content-buy","modal-animation"),a.classList.add("modal__close"),i.classList.add("modal__title"),d.classList.add("modal__descr"),l.classList.add("modal__form"),n.classList.add("modal__label"),o.classList.add("modal__inp"),c.classList.add("modal__label"),r.classList.add("modal__inp"),m.classList.add("modal__btn-send"),p.classList.add("modal__check","check"),u.classList.add("modal__check-inp","check__inp"),v.classList.add("modal__custom-check","check__box"),w.classList.add("modal__check-txt"),w.innerHTML='Принимаю <a href="#" class="agreement-link">пользовательское соглашение</a>',a.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M2.3812 0.397739L11.2581 9.03977C11.8029 9.57009 11.8029 10.4299 11.2581 10.9602L2.3812 19.6023C1.83647 20.1326 0.953281 20.1326 0.408549 19.6023C-0.136183 19.0719 -0.136183 18.2121 0.408549 17.6818L8.29914 10L0.40855 2.31819C-0.136182 1.78787 -0.136181 0.928057 0.408551 0.397739C0.953283 -0.13258 1.83647 -0.13258 2.3812 0.397739Z"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M17.6188 0.397739L8.74188 9.03977C8.19715 9.57009 8.19715 10.4299 8.74188 10.9602L17.6188 19.6023C18.1635 20.1326 19.0467 20.1326 19.5914 19.6023C20.1362 19.0719 20.1362 18.2121 19.5914 17.6818L11.7009 10L19.5914 2.31819C20.1362 1.78787 20.1362 0.928057 19.5914 0.397739C19.0467 -0.13258 18.1635 -0.13258 17.6188 0.397739Z"/>\n  </svg>\n  ',a.tabIndex="0",i.textContent="Купить в один клик",d.textContent="Чтобы оформить заказ — заполните формы ниже и наш менеджер свяжется с вами в течении часа.",u.type="checkbox",o.placeholder="Как вас зовут?",r.placeholder="Ваш телефон",m.textContent="Отправить",r.id="phone",o.id="name",n.append(o),c.append(r),p.append(u,v,w),l.append(n,c,m,p),t.append(a,i,d,l),e.append(t),a.addEventListener("click",(()=>{e.remove()})),l.addEventListener("submit",(t=>{t.preventDefault();const a=r.inputmask.unmaskedvalue();var i;s(o,a)&&s(r,a)&&(i=v,u.checked?(i.classList.remove("invalid"),1):(i.classList.add("invalid"),0))&&(e.remove(),document.body.append((()=>{const e=document.createElement("div"),t=document.createElement("div"),s=document.createElement("button"),a=document.createElement("h2"),i=document.createElement("div");return e.classList.add("modal","site-modal","modal-animation"),t.classList.add("modal__content","site-modal__content","site-modal__content-thankyou","modal-animation"),s.classList.add("modal__close"),a.classList.add("modal__title","modal__title-thankyou"),i.classList.add("modal__img"),s.tabIndex="0",s.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M2.3812 0.397739L11.2581 9.03977C11.8029 9.57009 11.8029 10.4299 11.2581 10.9602L2.3812 19.6023C1.83647 20.1326 0.953281 20.1326 0.408549 19.6023C-0.136183 19.0719 -0.136183 18.2121 0.408549 17.6818L8.29914 10L0.40855 2.31819C-0.136182 1.78787 -0.136181 0.928057 0.408551 0.397739C0.953283 -0.13258 1.83647 -0.13258 2.3812 0.397739Z"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M17.6188 0.397739L8.74188 9.03977C8.19715 9.57009 8.19715 10.4299 8.74188 10.9602L17.6188 19.6023C18.1635 20.1326 19.0467 20.1326 19.5914 19.6023C20.1362 19.0719 20.1362 18.2121 19.5914 17.6818L11.7009 10L19.5914 2.31819C20.1362 1.78787 20.1362 0.928057 19.5914 0.397739C19.0467 -0.13258 18.1635 -0.13258 17.6188 0.397739Z"/>\n  </svg>\n  ',a.textContent="Спасибо, мы вам перезвоним!",i.innerHTML='<svg><use xlink:href="img/sprite.svg#elefant" /></svg>',t.append(s,i,a),e.append(t),s.addEventListener("click",(()=>{e.remove()})),e})()))})),e})())}))}))})();